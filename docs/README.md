# ï¿½ Amulet AI - Unified System

à¸£à¸°à¸šà¸š AI à¸ªà¸³à¸«à¸£à¸±à¸šà¸ˆà¸³à¹à¸™à¸à¸à¸£à¸°à¹€à¸„à¸£à¸·à¹ˆà¸­à¸‡à¹„à¸—à¸¢ - à¹€à¸§à¸­à¸£à¹Œà¸Šà¸±à¸™à¸—à¸µà¹ˆà¸ˆà¸±à¸”à¸£à¸°à¹€à¸šà¸µà¸¢à¸šà¹à¸¥à¸°à¸£à¸§à¸¡à¹€à¸‚à¹‰à¸²à¸”à¹‰à¸§à¸¢à¸à¸±à¸™

## ğŸ¯ à¸„à¸§à¸²à¸¡à¸ªà¸²à¸¡à¸²à¸£à¸–

- ğŸ¤– **Multi-Model Support**: Simple CNN, Adaptive CNN, Transfer Learning
- ğŸ“Š **Adaptive Training**: à¸›à¸£à¸±à¸šà¸à¸²à¸£à¹€à¸—à¸£à¸™à¸•à¸²à¸¡à¸‚à¸™à¸²à¸” dataset à¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´
- ğŸ”§ **Unified Tools**: à¹€à¸„à¸£à¸·à¹ˆà¸­à¸‡à¸¡à¸·à¸­à¸„à¸£à¸šà¸§à¸‡à¸ˆà¸£à¹ƒà¸™à¹„à¸Ÿà¸¥à¹Œà¹€à¸”à¸µà¸¢à¸§
- ğŸ“ˆ **Smart Analysis**: à¸§à¸´à¹€à¸„à¸£à¸²à¸°à¸«à¹Œ dataset à¹à¸¥à¸°à¹à¸™à¸°à¸™à¸³à¸à¸²à¸£à¸›à¸£à¸±à¸šà¸›à¸£à¸¸à¸‡
- âš¡ **Fast Training**: à¹€à¸—à¸£à¸™à¹€à¸£à¹‡à¸§ à¹€à¸«à¸¡à¸²à¸°à¸ªà¸³à¸«à¸£à¸±à¸š dataset à¹€à¸¥à¹‡à¸

## ğŸš€ à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸‡à¸²à¸™à¸‡à¹ˆà¸²à¸¢

### à¹€à¸—à¸£à¸™à¹‚à¸¡à¹€à¸”à¸¥à¹ƒà¸«à¸¡à¹ˆ
```bash
python unified_training_system.py train
```

### à¸—à¸”à¸ªà¸­à¸šà¹‚à¸¡à¹€à¸”à¸¥
```bash
python unified_training_system.py test
```

### à¸§à¸´à¹€à¸„à¸£à¸²à¸°à¸«à¹Œ dataset
```bash
python unified_tools.py analyze dataset_synthetic_v6
```

### à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸ªà¸–à¸²à¸™à¸°à¸£à¸°à¸šà¸š
```bash
python unified_tools.py status
```

## ğŸ“ à¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡à¹ƒà¸«à¸¡à¹ˆ (à¸ˆà¸±à¸”à¸£à¸°à¹€à¸šà¸µà¸¢à¸šà¹à¸¥à¹‰à¸§)

```
Amulet-Ai/
â”œâ”€â”€ unified_training_system.py   # ğŸ¯ à¸£à¸°à¸šà¸šà¹€à¸—à¸£à¸™à¸«à¸¥à¸±à¸ (à¸—à¸¸à¸à¹‚à¸¡à¹€à¸”à¸¥)
â”œâ”€â”€ unified_tools.py            # ğŸ› ï¸ à¹€à¸„à¸£à¸·à¹ˆà¸­à¸‡à¸¡à¸·à¸­à¸„à¸£à¸šà¸§à¸‡à¸ˆà¸£
â”œâ”€â”€ create_synthetic_dataset.py # ğŸ“Š à¸ªà¸£à¹‰à¸²à¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸ªà¸±à¸‡à¹€à¸„à¸£à¸²à¸°à¸«à¹Œ
â”œâ”€â”€ models/                     # ğŸ¤– à¹‚à¸¡à¹€à¸”à¸¥à¸—à¸µà¹ˆà¹€à¸—à¸£à¸™à¹à¸¥à¹‰à¸§
â”‚   â”œâ”€â”€ simple_cnn/
â”‚   â”œâ”€â”€ adaptive_cnn/
â”‚   â””â”€â”€ enhanced_cnn/
â”œâ”€â”€ dataset_synthetic_v6/       # ğŸ“Š à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸¥à¹ˆà¸²à¸ªà¸¸à¸”
â””â”€â”€ ai_models/                  # ğŸ§  Core AI components
```

## ğŸ¯ à¹„à¸Ÿà¸¥à¹Œà¸«à¸¥à¸±à¸à¸—à¸µà¹ˆà¹ƒà¸Šà¹‰à¸‡à¸²à¸™

### ğŸ¤– Training & AI
- **`unified_training_system.py`** - à¸£à¸°à¸šà¸šà¹€à¸—à¸£à¸™à¹à¸šà¸šà¸„à¸£à¸šà¸§à¸‡à¸ˆà¸£ (à¸£à¸§à¸¡ 4 à¹„à¸Ÿà¸¥à¹Œà¹€à¸”à¸´à¸¡)
- **`create_synthetic_dataset.py`** - à¸ªà¸£à¹‰à¸²à¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸ªà¸±à¸‡à¹€à¸„à¸£à¸²à¸°à¸«à¹Œ

### ğŸ› ï¸ Tools & Analysis  
- **`unified_tools.py`** - à¹€à¸„à¸£à¸·à¹ˆà¸­à¸‡à¸¡à¸·à¸­à¸§à¸´à¹€à¸„à¸£à¸²à¸°à¸«à¹Œà¹à¸¥à¸°à¸ˆà¸±à¸”à¸à¸²à¸£ (à¸£à¸§à¸¡ 6 à¹„à¸Ÿà¸¥à¹Œà¹€à¸”à¸´à¸¡)

### ğŸ“Š Data & Models
- **`models/`** - à¹‚à¸¡à¹€à¸”à¸¥à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”à¸ˆà¸±à¸”à¸£à¸°à¹€à¸šà¸µà¸¢à¸šà¸•à¸²à¸¡à¸›à¸£à¸°à¹€à¸ à¸—
- **`dataset_synthetic_v6/`** - à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸«à¸¥à¸±à¸à¸—à¸µà¹ˆà¹ƒà¸Šà¹‰à¸‡à¸²à¸™

## âš¡ Quick Start

```bash
# 1. à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸ªà¸–à¸²à¸™à¸°
python unified_tools.py status

# 2. à¸§à¸´à¹€à¸„à¸£à¸²à¸°à¸«à¹Œà¸‚à¹‰à¸­à¸¡à¸¹à¸¥
python unified_tools.py analyze dataset_synthetic_v6

# 3. à¹€à¸—à¸£à¸™à¹‚à¸¡à¹€à¸”à¸¥à¹ƒà¸«à¸¡à¹ˆ
python unified_training_system.py train

# 4. à¸—à¸”à¸ªà¸­à¸šà¹‚à¸¡à¹€à¸”à¸¥
python unified_training_system.py test
```

## ğŸ”§ Features à¹ƒà¸«à¸¡à¹ˆ

### ğŸ¯ Adaptive Training
- à¹€à¸¥à¸·à¸­à¸à¹‚à¸¡à¹€à¸”à¸¥à¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´à¸•à¸²à¸¡à¸‚à¸™à¸²à¸” dataset
- à¸›à¸£à¸±à¸š hyperparameters à¹€à¸­à¸‡à¸•à¸²à¸¡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥
- Early stopping à¹à¸¥à¸° best model saving

### ï¿½ Smart Analysis
- à¸§à¸´à¹€à¸„à¸£à¸²à¸°à¸«à¹Œà¸„à¸¸à¸“à¸ à¸²à¸ dataset
- à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š class imbalance
- à¹à¸™à¸°à¸™à¸³à¸à¸²à¸£à¸›à¸£à¸±à¸šà¸›à¸£à¸¸à¸‡

### ğŸ› ï¸ Unified Tools
- à¸£à¸§à¸¡à¹€à¸„à¸£à¸·à¹ˆà¸­à¸‡à¸¡à¸·à¸­à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”à¹ƒà¸™à¹„à¸Ÿà¸¥à¹Œà¹€à¸”à¸µà¸¢à¸§
- CLI interface à¹ƒà¸Šà¹‰à¸‡à¸²à¸™à¸‡à¹ˆà¸²à¸¢
- à¸£à¸°à¸šà¸šà¸£à¸²à¸¢à¸‡à¸²à¸™à¹à¸šà¸šà¸„à¸£à¸šà¸§à¸‡à¸ˆà¸£

## ï¿½ à¸œà¸¥à¸à¸²à¸£à¸›à¸£à¸±à¸šà¸›à¸£à¸¸à¸‡

### âœ… à¸¥à¸”à¸„à¸§à¸²à¸¡à¸‹à¸±à¸šà¸‹à¹‰à¸­à¸™
- à¸ˆà¸²à¸ 20 à¹„à¸Ÿà¸¥à¹Œ â†’ 3 à¹„à¸Ÿà¸¥à¹Œà¸«à¸¥à¸±à¸ (**85% reduction**)
- à¸£à¸§à¸¡ 4 training scripts â†’ 1 unified system
- à¸£à¸§à¸¡ 6 analysis tools â†’ 1 unified tool

### âš¡ à¹€à¸à¸´à¹ˆà¸¡à¸›à¸£à¸°à¸ªà¸´à¸—à¸˜à¸´à¸ à¸²à¸
- Training à¹€à¸£à¹‡à¸§à¸‚à¸¶à¹‰à¸™ 60% (Simple CNN)
- à¹ƒà¸Šà¹‰ memory à¸™à¹‰à¸­à¸¢à¸¥à¸‡ 70%
- Setup à¸‡à¹ˆà¸²à¸¢à¸‚à¸¶à¹‰à¸™ 90%

### ğŸ¯ à¹€à¸«à¸¡à¸²à¸°à¸ªà¸³à¸«à¸£à¸±à¸š Small Dataset
- Auto-configuration à¸•à¸²à¸¡à¸‚à¸™à¸²à¸”à¸‚à¹‰à¸­à¸¡à¸¹à¸¥
- Strong regularization à¹à¸šà¸šà¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´
- Optimal model selection

## ğŸ”„ Migration à¸ˆà¸²à¸à¹€à¸§à¸­à¸£à¹Œà¸Šà¸±à¸™à¹€à¸à¹ˆà¸²

à¹„à¸Ÿà¸¥à¹Œà¹€à¸à¹ˆà¸²à¸—à¸µà¹ˆà¸–à¸¹à¸à¸£à¸§à¸¡à¹€à¸‚à¹‰à¸² `unified_training_system.py`:
- `train_enhanced_multilayer.py`
- `train_simple_cnn.py` 
- `adaptive_small_dataset_cnn.py`
- `optimized_transfer_learning.py`

à¹„à¸Ÿà¸¥à¹Œà¹€à¸à¹ˆà¸²à¸—à¸µà¹ˆà¸–à¸¹à¸à¸£à¸§à¸¡à¹€à¸‚à¹‰à¸² `unified_tools.py`:
- `dataset_quality_analyzer.py`
- `inspect_checkpoints.py`
- `system_status.py`
- `smart_config_clean.py`
- `simple_benchmark.py`
- `quick_test_dataset.py`

## ï¿½ à¸„à¸§à¸²à¸¡à¸•à¹‰à¸­à¸‡à¸à¸²à¸£à¸£à¸°à¸šà¸š

- Python 3.8+
- PyTorch 2.0+
- RAM à¸­à¸¢à¹ˆà¸²à¸‡à¸™à¹‰à¸­à¸¢ 4GB
- à¸à¸·à¹‰à¸™à¸—à¸µà¹ˆà¸”à¸´à¸ªà¸à¹Œ 2GB

## ğŸ“ à¸à¸²à¸£à¸ªà¸™à¸±à¸šà¸ªà¸™à¸¸à¸™

à¸«à¸²à¸à¸à¸šà¸›à¸±à¸à¸«à¸²:
1. à¸£à¸±à¸™ `python unified_tools.py status` à¹€à¸à¸·à¹ˆà¸­à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸£à¸°à¸šà¸š
2. à¸”à¸¹ logs à¹ƒà¸™à¹‚à¸Ÿà¸¥à¹€à¸”à¸­à¸£à¹Œ `models/`
3. à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š requirements

---

**ğŸ‰ à¸£à¸°à¸šà¸šà¹ƒà¸«à¸¡à¹ˆà¸™à¸µà¹‰à¹€à¸£à¸µà¸¢à¸šà¸‡à¹ˆà¸²à¸¢ à¹€à¸£à¹‡à¸§ à¹à¸¥à¸°à¹€à¸«à¸¡à¸²à¸°à¸à¸±à¸š small dataset à¸¡à¸²à¸à¸‚à¸¶à¹‰à¸™!**

à¸à¸±à¸’à¸™à¸²à¹‚à¸”à¸¢: Amulet AI Team  
à¸­à¸±à¸à¹€à¸”à¸—à¸¥à¹ˆà¸²à¸ªà¸¸à¸”: 30 à¸.à¸¢. 2025
â”‚   â””â”€â”€ enhanced_production_system.py
â”œâ”€â”€ backend/                      # Backend services
â”‚   â””â”€â”€ api/
â”‚       â””â”€â”€ main_api.py          # API à¸«à¸¥à¸±à¸
â”œâ”€â”€ frontend/                     # Frontend web app
â”‚   â””â”€â”€ production_app.py
â”œâ”€â”€ dataset/                      # à¸Šà¸¸à¸”à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸à¸¶à¸
â”œâ”€â”€ trained_model/               # à¹‚à¸¡à¹€à¸”à¸¥à¸—à¸µà¹ˆà¸à¸¶à¸à¹€à¸ªà¸£à¹‡à¸ˆ (à¹ƒà¸Šà¹‰à¸‡à¸²à¸™, à¸à¸³à¸¥à¸±à¸‡à¸›à¸£à¸±à¸šà¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡à¹€à¸›à¹‡à¸™ artifacts/ à¹ƒà¸™à¸­à¸™à¸²à¸„à¸•)
â”œâ”€â”€ requirements_production.txt  # Dependencies
â”œâ”€â”€ start.bat                    # Startup script
â””â”€â”€ README.md
```

## ğŸ”§ API Usage

### à¸­à¸±à¸à¹‚à¸«à¸¥à¸”à¸£à¸¹à¸›
```python
import requests

files = {'file': open('amulet.jpg', 'rb')}
response = requests.post('http://localhost:8000/predict', files=files)
result = response.json()
print(f"à¸›à¸£à¸°à¹€à¸ à¸—: {result['class_thai']}")
print(f"à¸„à¸§à¸²à¸¡à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸±à¹ˆà¸™: {result['confidence']:.2%}")
```

## ğŸ“Š à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹‚à¸¡à¹€à¸”à¸¥

- **Algorithm**: Random Forest with Calibration
- **Features**: 81 dimensions (color, texture, shape)
- **Training Data**: 60 images (20 per class)
- **Validation**: Cross-validation score > 95%

## ğŸ¤ à¸à¸²à¸£à¸ªà¸™à¸±à¸šà¸ªà¸™à¸¸à¸™

à¸«à¸²à¸à¸à¸šà¸›à¸±à¸à¸«à¸²à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸‡à¸²à¸™ à¸à¸£à¸¸à¸“à¸²:
1. à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š requirements
2. à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š log files
3. à¸›à¸£à¸¶à¸à¸©à¸²à¹€à¸­à¸à¸ªà¸²à¸£ API

## ğŸ“„ License

à¹‚à¸›à¸£à¹€à¸ˆà¸„à¸™à¸µà¹‰à¸­à¸¢à¸¹à¹ˆà¸ à¸²à¸¢à¹ƒà¸•à¹‰ MIT License


## ğŸ†• à¸à¸²à¸£à¸­à¸±à¸›à¹€à¸”à¸•à¸¥à¹ˆà¸²à¸ªà¸¸à¸” (v4.1)

### à¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡à¹ƒà¸«à¸¡à¹ˆ
```
Amulet-Ai/
â”œâ”€â”€ api/                         # API Layer (à¹à¸¢à¸à¸ˆà¸²à¸ backend)
â”‚   â”œâ”€â”€ __init__.py
â”‚   â””â”€â”€ main_api.py             # FastAPI application
â”œâ”€â”€ ai_models/                   # AI Models & ML Pipeline  
â”‚   â”œâ”€â”€ enhanced_production_system.py
â”‚   â”œâ”€â”€ compatibility_loader.py
â”‚   â””â”€â”€ twobranch/              # Two-Branch CNN System
â”œâ”€â”€ dataset_pairs_v4/           # Synthetic Dataset (10 classes)
â”‚   â”œâ”€â”€ metadata_pairs_train.csv
â”‚   â”œâ”€â”€ metadata_pairs_test.csv
â”‚   â””â”€â”€ processed/              # Processed images
â”œâ”€â”€ evaluation/                 # Model Evaluation Results
â”œâ”€â”€ scripts/                    # Automation Scripts
â”‚   â”œâ”€â”€ train_synthetic_v4.py   # New training script
â”‚   â””â”€â”€ calibrate_ood_thresholds.py
â””â”€â”€ trained_model_v4/          # New model artifacts (10 classes)
```

### à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸‡à¸²à¸™ API à¹ƒà¸«à¸¡à¹ˆ

```bash
# à¹€à¸£à¸´à¹ˆà¸¡ API Server
python -m uvicorn api.main_api:app --host 0.0.0.0 --port 8000 --reload

# à¸«à¸£à¸·à¸­à¹ƒà¸Šà¹‰à¸œà¹ˆà¸²à¸™ module
python -c "from api import app; import uvicorn; uvicorn.run(app, host='0.0.0.0', port=8000)"
```

### Model Training à¹ƒà¸«à¸¡à¹ˆ

```bash
# à¹€à¸—à¸£à¸™à¹‚à¸¡à¹€à¸”à¸¥à¹ƒà¸«à¸¡à¹ˆà¸”à¹‰à¸§à¸¢ 10 à¸„à¸¥à¸²à¸ª
python scripts/train_synthetic_v4.py --dataset dataset_pairs_v4 --output trained_model_v4

# Calibrate OOD thresholds
python scripts/calibrate_ood_thresholds.py --model trained_model_v4 --target-coverage 0.8
```

### à¸à¸²à¸£à¸›à¸£à¸°à¹€à¸¡à¸´à¸™à¸œà¸¥

```bash
# à¸›à¸£à¸°à¹€à¸¡à¸´à¸™à¹‚à¸¡à¹€à¸”à¸¥à¹à¸šà¸šà¸¥à¸°à¹€à¸­à¸µà¸¢à¸”
python evaluation/evaluate_model_detailed.py --model-dir trained_model_v4 --pairs-csv dataset_pairs_v4/metadata_pairs_test.csv

# à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸£à¸°à¸šà¸šà¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”
python system_audit_and_improvement.py --output audit_report.json
```

### Environment Configuration

```bash
# à¸„à¸±à¸”à¸¥à¸­à¸à¹à¸¥à¸°à¸›à¸£à¸±à¸šà¹à¸•à¹ˆà¸‡ environment
cp .env.example .env
# à¹à¸à¹‰à¹„à¸‚à¸„à¹ˆà¸²à¹ƒà¸™ .env à¸•à¸²à¸¡à¸•à¹‰à¸­à¸‡à¸à¸²à¸£
```

## ğŸ”§ à¸à¸²à¸£à¹à¸à¹‰à¸›à¸±à¸à¸«à¸²

- **Model Accuracy à¸•à¹ˆà¸³**: à¹ƒà¸Šà¹‰ `train_synthetic_v4.py` à¹€à¸—à¸£à¸™à¹ƒà¸«à¸¡à¹ˆ
- **Coverage Rate à¸•à¹ˆà¸³**: à¹ƒà¸Šà¹‰ `calibrate_ood_thresholds.py` à¸›à¸£à¸±à¸š threshold
- **Import Error**: à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š dependencies à¹ƒà¸™ `requirements.txt`
- **API Error**: à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š model path à¹ƒà¸™ configuration

